(this["webpackJsonpcard-memory-game"]=this["webpackJsonpcard-memory-game"]||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"items",(function(){return T})),n.d(r,"toastText",(function(){return C})),n.d(r,"flipCard",(function(){return k})),n.d(r,"removeCards",(function(){return A})),n.d(r,"showToast",(function(){return G})),n.d(r,"clearToast",(function(){return U})),n.d(r,"onShowToast",(function(){return M})),n.d(r,"coverCards",(function(){return S})),n.d(r,"onFlipCard",(function(){return N})),n.d(r,"fetchCards",(function(){return P})),n.d(r,"setCards",(function(){return _})),n.d(r,"checkIfGameIsOver",(function(){return z})),n.d(r,"resetGame",(function(){return J})),n.d(r,"playAgain",(function(){return Y})),n.d(r,"loading",(function(){return B})),n.d(r,"onLoading",(function(){return D})),n.d(r,"isGameOver",(function(){return K})),n.d(r,"isShowToast",(function(){return L})),n.d(r,"moves",(function(){return X}));var a=n(0),c=n.n(a),i=n(11),o=n.n(i);n(23),n(24);function u(){return c.a.createElement("footer",null,"Made with ",c.a.createElement("span",{style:{color:"#f00"}},"\u2764")," by Idan Izicovich")}var s=n(1);n(27);var l=n(6),f=n.n(l);function d(){var e=Object(s.g)((function(e){return e.cards})).playAgain;return c.a.createElement("section",{className:"game-over"},c.a.createElement("h3",null,"Game Over"),c.a.createElement("h4",null,"Player ",1," won!"),c.a.createElement("article",null,c.a.createElement("button",{onClick:function(){return e()}},"Play Again?")))}function m(){console.log("render cards section");var e=Object(s.h)((function(e){return e.cards})),t=e.isShowToast,n=e.toastText,r=e.items,a=e.moves,i=Object(s.g)((function(e){return e.cards})).fetchCards;return c.a.useEffect((function(){i()}),[i]),c.a.createElement("section",{className:"cards"},c.a.createElement("article",{style:{gridTemplate:"repeat(".concat(Math.ceil(Math.pow(r.length,.5)),", 1fr) / repeat(").concat(Math.ceil(Math.pow(r.length,.5)),", 1fr)")}},r.map((function(e,t){return c.a.createElement(h,Object.assign({},e,{key:t}))}))),c.a.createElement("aside",null,c.a.createElement("h5",{style:{display:"grid",gap:"1em",gridTemplate:"1fr / 1fr 1fr"}},c.a.createElement("strong",null,"moves:"),c.a.createElement("span",null,a)),c.a.createElement("h4",null,t&&c.a.createElement(p,{text:n}))))}function p(e){var t=e.text;return c.a.createElement("span",null,t)}var h=c.a.memo((function(e){var t=e.index,n=e.id,r=e.isUp,a=e.url,i=e.isActive;console.log("render Card");var o=Object(s.g)((function(e){return e.cards})).flipCard;return c.a.createElement("button",{className:"card",onClick:function(){return o(t)},disabled:!i},r?c.a.createElement("img",{src:a,alt:n}):"#")})),b=n(16),v=n(15),O=n(14),g=n(3),j=n.n(g),w=n(4),E=n(5),x=n(17),y=Math.pow(4,2),T=[],C="",k=Object(s.b)((function(e,t){if(!(e.items.filter((function(e){return e.isActive&&e.isUp})).length>=2)){e.moves++;var n=t;return e.items.find((function(e){return e.index===n})).isUp=!0,Object(x.a)({},e,{items:Object(E.a)(e.items)})}})),A=Object(s.b)((function(e,t){t.forEach((function(e){return e.isActive=!1}))})),G=Object(s.b)((function(e,t){e.isShowToast=!0,e.toastText=t})),U=Object(s.b)((function(e){e.isShowToast=!1,e.toastText=""})),I=function(e){return new Promise((function(t){return setTimeout((function(){t()}),e)}))},M=Object(s.f)((function(e){return e.showToast}),function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(2e3);case 2:t.clearToast();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(s.b)((function(e,t){t.forEach((function(e){return e.isUp=!1}))})),N=Object(s.f)((function(e){return e.flipCard}),function(){var e=Object(w.a)(j.a.mark((function e(t,n,r){var a,c,i,o,u,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.getState,c=a(),i=n.payload,o=c.items.find((function(e){return e.index===i})),u=c.items.find((function(e){return e!==o&&e.id===o.id})),!((s=c.items.filter((function(e){return e.isUp&&e.isActive}))).length>=2)){e.next=18;break}if(!((null===u||void 0===u?void 0:u.isUp)&&o.isUp)){e.next=14;break}return t.showToast("Found ".concat(o.id,"!")),e.next=11,I(1e3);case 11:t.removeCards([o,u]),e.next=18;break;case 14:return t.showToast("Aww... try again!"),e.next=17,I(1400);case 17:t.coverCards(s);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),F=function e(t,n,r){Object(O.a)(this,e),this.isUp=!1,this.id=t,this.index=n,this.url=r,this.isActive=!0},P=Object(s.e)(function(){var e=Object(w.a)(j.a.mark((function e(t,n){var r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.unsplash.com/photos/"+"?client_id=".concat("weyoNF1YZ1Fjp2Nnu_Ilm7sxu9KXG3IMctsdPwzsxY0")+"&per_page=".concat(y/2));case 2:if(!(r=e.sent).ok){e.next=13;break}return e.next=6,r.json();case 6:a=e.sent,c=a.map((function(e,t){return new F(e.id,t,e.urls.small)})),c=[].concat(Object(E.a)(c),Object(E.a)(a.map((function(e,t){return new F(e.id,t+c.length,e.urls.small)})))),c=f.a.shuffle(c),t.setCards(c),e.next=14;break;case 13:console.log("response is not ok"+"status: ".concat(r.status," ").concat(r.text));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(s.b)((function(e,t){e.items=t})),z=Object(s.c)((function(e){return e.removeCards}),(function(e){0===e.items.filter((function(e){return e.isActive})).length&&(e.isGameOver=!0)})),J=Object(s.b)((function(e){e.isGameOver=!1,e.items=[],e.moves=0})),Y=Object(s.e)((function(e){e.resetGame(),e.fetchCards()})),B=!1,D=Object(s.c)((function(e){return[e.fetchCards.startType,e.fetchCards.type]}),(function(e,t){var n=Object(v.a)(t.resolvedTargets,2),r=n[0],a=n[1];switch(t.type){case r:e.loading=!0;break;case a:e.loading=!1}})),K=!1,L=!1,X=0,Z={cards:Object(b.a)({},r)},q=Object(s.d)(Z);o.a.render(c.a.createElement(s.a,{store:q},c.a.createElement((function(){var e=Object(s.h)((function(e){return e.cards})).isGameOver;return c.a.createElement("main",null,c.a.createElement("header",null,"TODO: header"),e?c.a.createElement(d,null):c.a.createElement(m,null),c.a.createElement(u,null))}),null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.0cb149f9.chunk.js.map