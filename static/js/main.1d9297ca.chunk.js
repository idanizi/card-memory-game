(this["webpackJsonpcard-memory-game"]=this["webpackJsonpcard-memory-game"]||[]).push([[0],{45:function(e,t,n){e.exports=n(62)},50:function(e,t,n){},51:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"items",(function(){return A})),n.d(r,"toastText",(function(){return I})),n.d(r,"flipCard",(function(){return M})),n.d(r,"removeCards",(function(){return U})),n.d(r,"showToast",(function(){return S})),n.d(r,"clearToast",(function(){return N})),n.d(r,"onShowToast",(function(){return F})),n.d(r,"coverCards",(function(){return P})),n.d(r,"onFlipCard",(function(){return z})),n.d(r,"fetchCards",(function(){return Y})),n.d(r,"setCards",(function(){return B})),n.d(r,"checkIfGameIsOver",(function(){return K})),n.d(r,"resetGame",(function(){return L})),n.d(r,"playAgain",(function(){return X})),n.d(r,"loading",(function(){return Z})),n.d(r,"onLoading",(function(){return q})),n.d(r,"isGameOver",(function(){return D})),n.d(r,"isShowToast",(function(){return H})),n.d(r,"moves",(function(){return Q}));var a=n(0),c=n.n(a),i=n(9),o=n.n(i);n(50),n(51);function s(){return c.a.createElement("footer",null,"Made with ",c.a.createElement("span",{style:{color:"#f00"}},"\u2764")," by Idan Izicovich")}var u=n(3);var f=n(89),l=n(90),d=n(88);var m=c.a.memo((function(){var e=Object(u.h)((function(e){return e.cards})),t=e.isShowToast,n=e.toastText,r=e.isGood;return c.a.createElement(f.a,{open:t,TransitionComponent:l.a,anchorOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement(d.a,{severity:r?"success":"error"},n))})),p=(n(58),n(27));var h=c.a.memo((function(e){var t=e.index,n=(e.id,e.isUp),r=e.url,i=e.isActive,o=e.description,s=Object(u.g)((function(e){return e.cards})).flipCard,f=Object(a.useState)(""),l=Object(p.a)(f,2),d=l[0],m=l[1];return Object(a.useEffect)((function(){var e="";n?(e+="flip-up",i||(e+=" disabled")):e="flip-down",m(e)}),[n,i]),c.a.createElement("div",{onClick:function(){return s(t)},className:"card "+d},n&&c.a.createElement("img",{src:r,alt:o}))}));function v(){var e=function(){var e=Object(u.g)((function(e){return e.cards})).fetchCards,t=Object(u.h)((function(e){return e.cards})).items;return Object(a.useEffect)((function(){e()}),[e]),{items:t}}().items;return c.a.createElement("section",{className:"cards"},c.a.createElement("article",{style:{gridTemplate:"repeat(".concat(Math.ceil(Math.pow(e.length,.5)),", 1fr) / repeat(").concat(Math.ceil(Math.pow(e.length,.5)),", 1fr)"),justifyItems:"center"}},e.map((function(e,t){return c.a.createElement(h,Object.assign({},e,{key:t}))}))),c.a.createElement(m,null))}var b=c.a.memo((function(){var e=Object(u.h)((function(e){return e.cards})).moves;return c.a.createElement("h5",{style:{display:"grid",gap:"1em",gridTemplate:"1fr / 1fr 1fr 1fr",justifyItems:"center"}},c.a.createElement("span",null,"\ud83c\udfc3\ud83c\udffb\u200d\u2642\ufe0f"),c.a.createElement("span",null," Moves:"),c.a.createElement("span",null,e))}));function O(){var e=Object(u.g)((function(e){return e.cards})).playAgain;return c.a.createElement("section",{className:"game-over"},c.a.createElement("h3",null,"Game Over"),c.a.createElement("h4",null,"Player ",1," won!"),c.a.createElement("article",null,c.a.createElement("button",{onClick:function(){return e()}},"Play Again?")))}n(59);var j=n(38),g=n(39),E=n(20),w=n.n(E),x=n(28),y=n(29),T=n(41),C=Math.pow(4,2),k=n(40),G=n.n(k),A=[],I="",M=Object(u.b)((function(e,t){if(!(e.items.filter((function(e){return e.isActive&&e.isUp})).length>=2)){e.moves++;var n=t;return e.items.find((function(e){return e.index===n})).isUp=!0,Object(T.a)({},e,{items:Object(y.a)(e.items)})}})),U=Object(u.b)((function(e,t){t.forEach((function(e){return e.isActive=!1}))})),S=Object(u.b)((function(e,t){e.isShowToast=!0,e.toastText=t.text,e.isGood=t.isGood})),N=Object(u.b)((function(e){e.isShowToast=!1})),_=function(e){return new Promise((function(t){return setTimeout((function(){t()}),e)}))},F=Object(u.f)((function(e){return e.showToast}),function(){var e=Object(x.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(2e3);case 2:t.clearToast();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(u.b)((function(e,t){t.forEach((function(e){return e.isUp=!1}))})),z=Object(u.f)((function(e){return e.flipCard}),function(){var e=Object(x.a)(w.a.mark((function e(t,n,r){var a,c,i,o,s,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.getState,c=a(),i=n.payload,o=c.items.find((function(e){return e.index===i})),s=c.items.find((function(e){return e!==o&&e.id===o.id})),!((u=c.items.filter((function(e){return e.isUp&&e.isActive}))).length>=2)){e.next=18;break}if(!((null===s||void 0===s?void 0:s.isUp)&&o.isUp)){e.next=14;break}return t.showToast({text:"Found ".concat(o.description,"!"),isGood:!0}),e.next=11,_(1e3);case 11:t.removeCards([o,s]),e.next=18;break;case 14:return t.showToast({text:"Aww... try again!",isGood:!1}),e.next=17,_(1400);case 17:t.coverCards(u);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),J=function e(t,n,r,a){Object(g.a)(this,e),this.isUp=!1,this.id=t,this.index=n,this.url=r,this.isActive=!0,this.description=a},Y=Object(u.e)(function(){var e=Object(x.a)(w.a.mark((function e(t,n){var r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.unsplash.com/photos/"+"?client_id=".concat("weyoNF1YZ1Fjp2Nnu_Ilm7sxu9KXG3IMctsdPwzsxY0")+"&per_page=".concat(C/2));case 2:if(!(r=e.sent).ok){e.next=13;break}return e.next=6,r.json();case 6:a=e.sent,c=a.map((function(e,t){return new J(e.id,t,e.urls.small,e.alt_description)})),c=[].concat(Object(y.a)(c),Object(y.a)(a.map((function(e,t){return new J(e.id,t+c.length,e.urls.small,e.alt_description)})))),c=G.a.shuffle(c),t.setCards(c),e.next=14;break;case 13:console.log("response is not ok"+"status: ".concat(r.status," ").concat(r.text));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(u.b)((function(e,t){e.items=t})),K=Object(u.c)((function(e){return e.removeCards}),(function(e){0===e.items.filter((function(e){return e.isActive})).length&&(e.isGameOver=!0)})),L=Object(u.b)((function(e){e.isGameOver=!1,e.items=[],e.moves=0})),X=Object(u.e)((function(e){e.resetGame(),e.fetchCards()})),Z=!1,q=Object(u.c)((function(e){return[e.fetchCards.startType,e.fetchCards.type]}),(function(e,t){var n=Object(p.a)(t.resolvedTargets,2),r=n[0],a=n[1];switch(t.type){case r:e.loading=!0;break;case a:e.loading=!1}})),D=!1,H=!1,Q=0,R={cards:Object(j.a)({},r)},V=Object(u.d)(R);o.a.render(c.a.createElement(u.a,{store:V},c.a.createElement((function(){var e=Object(u.h)((function(e){return e.cards})).isGameOver;return c.a.createElement("main",null,c.a.createElement("header",null,c.a.createElement(b,null)),e?c.a.createElement(O,null):c.a.createElement(v,null),c.a.createElement(s,null))}),null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.1d9297ca.chunk.js.map