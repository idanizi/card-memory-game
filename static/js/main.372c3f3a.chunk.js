(this["webpackJsonpcard-memory-game"]=this["webpackJsonpcard-memory-game"]||[]).push([[0],{15:function(e,n,t){e.exports=t(27)},20:function(e,n,t){},21:function(e,n,t){},24:function(e,n,t){},27:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"cards",(function(){return g})),t.d(r,"flipCard",(function(){return x})),t.d(r,"removeCards",(function(){return y})),t.d(r,"showToast",(function(){return T})),t.d(r,"clearToast",(function(){return C})),t.d(r,"onShowToast",(function(){return G})),t.d(r,"onFlipCard",(function(){return U})),t.d(r,"fetchCards",(function(){return A})),t.d(r,"setCards",(function(){return S})),t.d(r,"checkIfGameIsOver",(function(){return I})),t.d(r,"resetGame",(function(){return M})),t.d(r,"playAgain",(function(){return N})),t.d(r,"loading",(function(){return P})),t.d(r,"onLoading",(function(){return q})),t.d(r,"isGameOver",(function(){return F})),t.d(r,"isShowToast",(function(){return J}));var a=t(0),c=t.n(a),u=t(10),o=t.n(u);t(20),t(21);function i(){return c.a.createElement("footer",null,"Made with ",c.a.createElement("span",{style:{color:"#f00"}},"\u2764")," by Idan Izicovich")}var s=t(1);t(24);var f=Math.pow(4,2);function l(){var e=Object(s.g)((function(e){return e.cards})).playAgain;return c.a.createElement("section",{className:"game-over"},c.a.createElement("h3",null,"Game Over"),c.a.createElement("h4",null,"Player ",1," won!"),c.a.createElement("article",null,c.a.createElement("button",{onClick:e},"Play Again?")))}function d(){var e=function(){var e=Object(s.g)((function(e){return e.cards})).fetchCards,n=Object(s.h)((function(e){return e.cards})).cards;return Object(a.useEffect)((function(){e()}),[e]),{cards:n}}().cards,n=Object(s.h)((function(e){return e.cards})),t=n.isShowToast,r=n.toastText;return c.a.createElement("section",{className:"cards"},c.a.createElement("article",{style:{gridTemplate:"repeat(".concat(Math.sqrt(f),", 1fr) / repeat(").concat(Math.sqrt(f),", 1fr)")}},c.a.createElement((function(){return e.map((function(e,n){return c.a.createElement(p,Object.assign({},e,{key:n}))}))}),null)),c.a.createElement("aside",null,t&&c.a.createElement(m,{text:r})))}function m(e){var n=e.text;return c.a.createElement("span",null,n)}function p(e){var n=e.index,t=e.id,r=e.isUp,a=Object(s.g)((function(e){return e.cards})).flipCard;return c.a.createElement("button",{className:"card",onClick:function(){return a(n)}},r?t:"#")}var h=t(14),b=t(13),v=t(3),O=t.n(v),j=t(4),E=t(7),w=t.n(E),g=[],x=Object(s.b)((function(e,n){var t=n,r=e.cards.find((function(e){return e.index===t}));r.isUp=!r.isUp})),y=Object(s.b)((function(e,n){var t=n;w.a.remove(e.cards,(function(e){return t.map((function(e){return e.index})).includes(e.index)}))})),T=Object(s.b)((function(e,n){e.isShowToast=!0,e.toastText=n})),C=Object(s.b)((function(e){e.isShowToast=!1,e.toastText=""})),k=function(e){return new Promise((function(n){return setTimeout((function(){n()}),e)}))},G=Object(s.f)((function(e){return e.showToast}),function(){var e=Object(j.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(2e3);case 2:n.clearToast();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),U=Object(s.f)((function(e){return e.flipCard}),function(){var e=Object(j.a)(O.a.mark((function e(n,t,r){var a,c,u,o,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.getState,c=a(),u=t.payload,o=c.cards.find((function(e){return e.index===u})),i=c.cards.find((function(e){return e!==o&&e.id===o.id})),2!==(s=c.cards.filter((function(e){return e.isUp}))).length){e.next=18;break}if(!((null===i||void 0===i?void 0:i.isUp)&&o.isUp)){e.next=14;break}return n.showToast("Found ".concat(o.id,"!")),e.next=11,k(1e3);case 11:n.removeCards([o,i]),e.next=18;break;case 14:return n.showToast("Aww... try again!"),e.next=17,k(1400);case 17:s.forEach((function(e){return e.isUp=!1}));case 18:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()),A=Object(s.e)(function(){var e=Object(j.a)(O.a.mark((function e(n,t){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Array(f).fill(0).map((function(e,n){return n%Math.floor(f/2)})),a=Array(f).fill(0).map((function(e,n){return{index:n,id:r.splice(w.a.random(r.length-1),1)[0],isUp:!1}})),n.setCards(a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),S=Object(s.b)((function(e,n){e.cards=n})),I=Object(s.c)((function(e){return e.removeCards}),(function(e){0===e.cards.length&&(e.isGameOver=!0)})),M=Object(s.b)((function(e){e.isGameOver=!1})),N=Object(s.e)((function(e){e.resetGame(),e.fetchCards()})),P=!1,q=Object(s.c)((function(e){return[e.fetchCards.startType,e.fetchCards.type]}),(function(e,n){var t=Object(b.a)(n.resolvedTargets,2),r=t[0],a=t[1];switch(n.type){case r:e.loading=!0;break;case a:e.loading=!1}})),F=!1,J=!1,z={cards:Object(h.a)({},r)},B=Object(s.d)(z);o.a.render(c.a.createElement(s.a,{store:B},c.a.createElement((function(){var e=Object(s.h)((function(e){return e.cards})).isGameOver;return c.a.createElement("main",null,c.a.createElement("header",null,"TODO: header"),e?c.a.createElement(l,null):c.a.createElement(d,null),c.a.createElement(i,null))}),null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.372c3f3a.chunk.js.map