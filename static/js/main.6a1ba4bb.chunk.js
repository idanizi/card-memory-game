(this["webpackJsonpcard-memory-game"]=this["webpackJsonpcard-memory-game"]||[]).push([[0],{46:function(e,t,n){e.exports=n(64)},51:function(e,t,n){},52:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"items",(function(){return I})),n.d(r,"toastText",(function(){return M})),n.d(r,"flipCard",(function(){return U})),n.d(r,"removeCards",(function(){return S})),n.d(r,"showToast",(function(){return N})),n.d(r,"clearToast",(function(){return _})),n.d(r,"onShowToast",(function(){return P})),n.d(r,"coverCards",(function(){return z})),n.d(r,"onFlipCard",(function(){return J})),n.d(r,"fetchCards",(function(){return B})),n.d(r,"setCards",(function(){return K})),n.d(r,"checkIfGameIsOver",(function(){return L})),n.d(r,"resetGame",(function(){return X})),n.d(r,"playAgain",(function(){return Z})),n.d(r,"loading",(function(){return q})),n.d(r,"onLoading",(function(){return D})),n.d(r,"isGameOver",(function(){return H})),n.d(r,"isShowToast",(function(){return Q})),n.d(r,"moves",(function(){return R}));var a=n(0),c=n.n(a),i=n(11),o=n.n(i);n(51),n(52);function s(){return c.a.createElement("footer",null,"Made with ",c.a.createElement("span",{style:{color:"#f00"}},"\u2764")," by Idan Izicovich")}var u=n(3);var f=n(93),l=n(94),d=n(92);var m=c.a.memo((function(){var e=Object(u.h)((function(e){return e.cards})),t=e.isShowToast,n=e.toastText,r=e.isGood;return c.a.createElement(f.a,{open:t,TransitionComponent:l.a,anchorOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement(d.a,{severity:r?"success":"error"},n))})),p=(n(59),n(27));var h=c.a.memo((function(e){var t=e.index,n=(e.id,e.isUp),r=e.url,i=e.isActive,o=e.description,s=Object(u.g)((function(e){return e.cards})).flipCard,f=Object(a.useState)(""),l=Object(p.a)(f,2),d=l[0],m=l[1];return Object(a.useEffect)((function(){var e="";n?(e+="flip-up",i||(e+=" disabled")):e="flip-down",m(e)}),[n,i]),c.a.createElement("div",{onClick:function(){return s(t)},className:"card "+d},n&&c.a.createElement("img",{src:r,alt:o}))}));function v(){var e=function(){var e=Object(u.g)((function(e){return e.cards})).fetchCards,t=Object(u.h)((function(e){return e.cards})).items;return Object(a.useEffect)((function(){e()}),[e]),{items:t}}().items;return c.a.createElement("section",{className:"cards"},c.a.createElement("article",{style:{gridTemplate:"repeat(".concat(Math.ceil(Math.pow(e.length,.5)),", 1fr) / repeat(").concat(Math.ceil(Math.pow(e.length,.5)),", 1fr)"),justifyItems:"center"}},e.map((function(e,t){return c.a.createElement(h,Object.assign({},e,{key:t}))}))),c.a.createElement(m,null))}var b=c.a.memo((function(){var e=Object(u.h)((function(e){return e.cards})).moves;return c.a.createElement("h5",{style:{display:"grid",gap:"1em",gridTemplate:"1fr / 1fr 1fr 1fr",justifyItems:"center"}},c.a.createElement("span",null,"\ud83c\udfc3\ud83c\udffb\u200d\u2642\ufe0f"),c.a.createElement("span",null," Moves:"),c.a.createElement("span",null,e))})),O=(n(60),n(91));function j(){var e=Object(u.g)((function(e){return e.cards})).playAgain;return c.a.createElement("section",{className:"game-over"},c.a.createElement("h3",null,"Game Over"),c.a.createElement("h4",null,"Player ",1," won!"),c.a.createElement("article",null,c.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){return e()}},"Play Again?")))}n(61);var g=n(38),E=n(39),w=n(20),x=n.n(w),y=n(28),T=n(29),C=n(41),k=Math.pow(4,2),G=n(40),A=n.n(G),I=[],M="",U=Object(u.b)((function(e,t){if(!(e.items.filter((function(e){return e.isActive&&e.isUp})).length>=2)){e.moves++;var n=t;return e.items.find((function(e){return e.index===n})).isUp=!0,Object(C.a)({},e,{items:Object(T.a)(e.items)})}})),S=Object(u.b)((function(e,t){t.forEach((function(e){return e.isActive=!1}))})),N=Object(u.b)((function(e,t){e.isShowToast=!0,e.toastText=t.text,e.isGood=t.isGood})),_=Object(u.b)((function(e){e.isShowToast=!1})),F=function(e){return new Promise((function(t){return setTimeout((function(){t()}),e)}))},P=Object(u.f)((function(e){return e.showToast}),function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(2e3);case 2:t.clearToast();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(u.b)((function(e,t){t.forEach((function(e){return e.isUp=!1}))})),J=Object(u.f)((function(e){return e.flipCard}),function(){var e=Object(y.a)(x.a.mark((function e(t,n,r){var a,c,i,o,s,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.getState,c=a(),i=n.payload,o=c.items.find((function(e){return e.index===i})),s=c.items.find((function(e){return e!==o&&e.id===o.id})),!((u=c.items.filter((function(e){return e.isUp&&e.isActive}))).length>=2)){e.next=18;break}if(!((null===s||void 0===s?void 0:s.isUp)&&o.isUp)){e.next=14;break}return t.showToast({text:"Found ".concat(o.description,"!"),isGood:!0}),e.next=11,F(1e3);case 11:t.removeCards([o,s]),e.next=18;break;case 14:return t.showToast({text:"Aww... try again!",isGood:!1}),e.next=17,F(1400);case 17:t.coverCards(u);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Y=function e(t,n,r,a){Object(E.a)(this,e),this.isUp=!1,this.id=t,this.index=n,this.url=r,this.isActive=!0,this.description=a},B=Object(u.e)(function(){var e=Object(y.a)(x.a.mark((function e(t,n){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.unsplash.com/photos/"+"?client_id=".concat("weyoNF1YZ1Fjp2Nnu_Ilm7sxu9KXG3IMctsdPwzsxY0")+"&per_page=".concat(k/2));case 2:if(!(r=e.sent).ok){e.next=13;break}return e.next=6,r.json();case 6:a=e.sent,c=a.map((function(e,t){return new Y(e.id,t,e.urls.small,e.alt_description)})),c=[].concat(Object(T.a)(c),Object(T.a)(a.map((function(e,t){return new Y(e.id,t+c.length,e.urls.small,e.alt_description)})))),c=A.a.shuffle(c),t.setCards(c),e.next=14;break;case 13:console.log("response is not ok"+"status: ".concat(r.status," ").concat(r.text));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=Object(u.b)((function(e,t){e.items=t})),L=Object(u.c)((function(e){return e.removeCards}),(function(e){0===e.items.filter((function(e){return e.isActive})).length&&(e.isGameOver=!0)})),X=Object(u.b)((function(e){e.isGameOver=!1,e.items=[],e.moves=0})),Z=Object(u.e)((function(e){e.resetGame(),e.fetchCards()})),q=!1,D=Object(u.c)((function(e){return[e.fetchCards.startType,e.fetchCards.type]}),(function(e,t){var n=Object(p.a)(t.resolvedTargets,2),r=n[0],a=n[1];switch(t.type){case r:e.loading=!0;break;case a:e.loading=!1}})),H=!1,Q=!1,R=0,V={cards:Object(g.a)({},r)},W=Object(u.d)(V);o.a.render(c.a.createElement(u.a,{store:W},c.a.createElement((function(){var e=Object(u.h)((function(e){return e.cards})).isGameOver;return c.a.createElement("main",null,c.a.createElement("header",null,c.a.createElement(b,null)),e?c.a.createElement(j,null):c.a.createElement(v,null),c.a.createElement(s,null))}),null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.6a1ba4bb.chunk.js.map